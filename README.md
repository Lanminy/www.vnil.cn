# Vnilè§†é¢‘/å›¾é›†è§£æå»æ°´å°æ¥å£æ–‡æ¡£

## Vnil(https://www.vnil.cn) æŠ–éŸ³ã€å¿«æ‰‹ã€å°çº¢ä¹¦ã€å¾®åšã€å‰ªæ˜ ã€è¥¿ç“œè§†é¢‘ã€ç«å±±å°è§†é¢‘ã€ä»Šæ—¥å¤´æ¡ã€å¾®è§†ã€ç¾æ‹ã€çš®çš®è™¾ã€Tiktokã€ç«é”…è§†é¢‘ã€å¿«å½±ã€å¿«çœ‹ç‚¹ã€è¶£å¤´æ¡ã€QQçœ‹ç‚¹ã€å¥½çœ‹è§†é¢‘ã€é˜³å…‰å®½é¢‘ç½‘ã€ç»¿æ´²ã€ç¾å›¾ç§€ç§€ã€çš®çš®æç¬‘ã€instagramã€åˆ·å®ã€å…¨æ°‘å°è§†é¢‘ã€æœ€å³ã€Youtubeã€Bilibiliã€è½»è§†é¢‘ã€é™Œé™Œè§†é¢‘ã€å¼€çœ¼ã€UCæµè§ˆå™¨ã€èŒ„å­çŸ­è§†é¢‘ã€æ·˜å®ã€å°å’–ç§€ã€äº¬ä¸œã€å¤©çŒ«ã€VUEã€ä¸€æ·˜ã€æ–°ç‰‡åœºã€åœºåº“ã€ç§’æ‹ã€å·´å¡ç”µå½±ã€WIDEã€æ‹¼å¤šå¤šã€é€—æ‹ã€Keepã€æ¯”å¿ƒã€çµæ„Ÿã€1688ã€å”¯å“ä¼šç­‰è¶…è¿‡50ä¸ªå¹³å°çš„å»æ°´å°è§£ææœåŠ¡ã€‚
### å…³äºæ¥å£ï¼š

	1ã€æ¥å£é‡‡ç”¨RESTful APIæ–¹å¼æä¾›ï¼Œä¸é™åˆ¶å¼€å‘è¯­è¨€ã€‚å½“å‰æ–‡æ¡£ä¸­æä¾›äº†PHPå’ŒPythonä¸¤ç§è¯­è¨€çš„ä»£ç å®ä¾‹ä¾¿äºå¼€å‘è€…æ–¹ä¾¿æ¥å…¥ã€‚
		
	2ã€æ¥å£æ”¯æŒGETå’ŒPOSTä¸¤ç§å‚æ•°æäº¤æ–¹å¼
		
	3ã€æ¥å£é”™è¯¯ç è¯·å‚è€ƒâ€œé™„å½•1ï¼šé”™è¯¯ç è¯´æ˜â€


### ä¸€ã€è§†é¢‘/å›¾é›†å»æ°´å°è§£ææ¥å£
**URLï¼šhttps://api.vnil.cn/api/parse/deal**  
**è¯·æ±‚æ–¹å¼ï¼šGET/POST**  
**è¯·æ±‚å‚æ•°ï¼š**  

|å­—æ®µ|ç±»å‹|å¿…å¡«|å¤‡æ³¨|èµ‹å€¼|
|---|---|---|---|---|  
| appkey | string | Y | 	appkey |www.vnil.cnå¼€å‘è€…åå°è·å–|
| url | string | Y | è¦è§£æçš„èµ„æºåœ°å€ä¿¡æ¯ |ä¾‹å¦‚ï¼šhttp://xhslink.com/f0aZc|

**è¿”å›ç»“æœï¼š**  

**æˆåŠŸï¼š**  

	{"code":0,"msg":"success","body":{"url":"http://xhslink.com/ELeLK","platform":"xiaohongshu","text":"ã€å„¿æ’æ•°ç ç­ã€‘\nğŸ‘©ğŸ¼\u200dğŸ¨12æœŸæ­£å¼è¯¾ç»“æŸï½ç‰¹åˆ«å–œæ¬¢å®¤å†…è¿™å¼ ç¤ºèŒƒï¼","images":["http://sns-img-qc.xhscdn.com/c8e4ac1a-12f9-3d7a-a253-eada3bbd8ef2?imageView2/2/h/1080/format.jpg","http://sns-img-qc.xhscdn.com/d5ead3b9-06a4-30ac-98bb-d3cefe863653?imageView2/2/w/1080/format.jpg","http://sns-img-qc.xhscdn.com/61ee711c-7395-3e53-8393-9c55fef5de37?imageView2/2/w/1080/format.jpg","http://sns-img-qc.xhscdn.com/22a01042-fa91-325c-b3be-045dd49612af?imageView2/2/h/1080/format.jpg","http://sns-img-qc.xhscdn.com/f1edf28c-cf0e-321f-8da0-411180cc8d00?imageView2/2/w/1080/format.jpg","http://sns-img-qc.xhscdn.com/7b714f0c-a5ca-3c8b-807a-720f41089821?imageView2/2/h/1080/format.jpg"],"video_info":[],"type":1,"cover":"http://sns-img-qc.xhscdn.com/c8e4ac1a-12f9-3d7a-a253-eada3bbd8ef2?imageView2/2/h/1080/format.jpg"}}
	
  
**å¤±è´¥ï¼š**	

	{"code":10001,"msg":"parameter lost","body":[]}

**è¿”å›å­—æ®µæ³¨é‡Š** 

|å­—æ®µå|æ³¨é‡Š|å¤‡æ³¨|
|---|---|---|
|code|é”™è¯¯ç |é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|msg|é”™è¯¯ä¿¡æ¯|é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|body|||
|platform|æ‰€å±å¹³å°|æ‰€å±bodyï¼Œå¦‚ï¼štaobaoã€xiaohongshu|
|url|å¼€å‘è€…è¯·æ±‚çš„url|æ‰€å±body|
|text|æ–‡æ¡ˆä¿¡æ¯|æ‰€å±body|
|cover|å°é¢å›¾åœ°å€|æ‰€å±body|
|images|é«˜æ¸…å¤§å›¾å›¾ç‰‡é›†åˆ|æ‰€å±body|
|video_info|è§†é¢‘ä¿¡æ¯|æ‰€å±bodyï¼Œéƒ¨åˆ†å¹³å°è§†é¢‘åœ°å€æœ‰æœ‰æ•ˆæœŸé™åˆ¶ï¼Œä¸å¯ä½œä¸ºæ°¸ä¹…å­˜å‚¨|

PHP å®ä¾‹ä»£ç ï¼š

	<?php
	//å¼€å‘è€…åå°ç”Ÿæˆçš„appkey
	$appkey = '';
		
	//éœ€è¦è§£æçš„url
	$url = '';
	
	$param = [
		'appkey'	=> $appkey,
		'url'		=> $url,
	];
	
	//å¾—åˆ°è¯·æ±‚çš„åœ°å€ï¼šhttps://api.vnil.cn/api/parse/deal?appkey=appkey&url=url
	
	$apiUrl = 'https://api.vnil.cn/api/parse/deal?'.http_build_query($param);
	
	$ch = curl_init();
	curl_setopt ( $ch, CURLOPT_URL, $apiUrl );
	curl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, FALSE );
	curl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, 0 );
	curl_setopt ( $ch, CURLOPT_SSL_VERIFYHOST, 0 );
	curl_setopt ( $ch, CURLOPT_MAXREDIRS, 5 );
	curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, 1 );
	curl_setopt ( $ch, CURLOPT_FOLLOWLOCATION, 1 );
	curl_setopt ( $ch, CURLOPT_TIMEOUT, 10 );
	$content = curl_exec( $ch );
	curl_close ( $ch);
	
	print_r($content);

Pythonå®ä¾‹ä»£ç :

  
    #!/usr/bin/env python
    # encoding: utf-8

    import requests, urllib, json

    appkey = ""
    params = {
       "appkey": appkey,
       "url":"",
    }
	def get(url):
        params["url"] = url;
        api_url = "https://api.vnil.cn/api/parse/deal?" + urllib.parse.urlencode(params)

        msg = {"code": 0, "msg": "", "body": ""}

        response = requests.get(url=api_url, timeout=30)

        if response.status_code != 200:
		 	msg['code'] = 1
		 	msg["msg"] = "è¯·æ±‚å‡ºç°é—®é¢˜"
		 	return msg
	    # result = json.loads(response.text)      å¦‚æœä½ ç›´æ¥æ‹¿åˆ°ç³»ç»Ÿä¸­ä½¿ç”¨è¯·å°†è¿”å›å‚æ•°ç›´æ¥è½¬ä¸ºjson
	   	result = response.text  # å¦‚æœä½ ä¸éœ€è¦è½¬æ¢jsonï¼Œåˆ™ç›´æ¥æ¥å—æ•°æ®å¹¶è¿”å›
	   	return result


	def post(url):
	    params["url"] = url
	    api_url = "https://api.vnil.cn/api/parse/deal"

	    msg = {"code": 0, "msg": "", "body": ""}

	    response = requests.post(url=api_url, data=params, timeout=30)
	    if response.status_code != 200:
		 	msg['code'] = 1
		  	msg["msg"] = "è¯·æ±‚å‡ºç°é—®é¢˜"
		  	return msg
	    # result = json.loads(response.text)      å¦‚æœä½ ç›´æ¥æ‹¿åˆ°ç³»ç»Ÿä¸­ä½¿ç”¨è¯·å°†è¿”å›å‚æ•°ç›´æ¥è½¬ä¸ºjson
	    result = response.text  # å¦‚æœä½ ä¸éœ€è¦è½¬æ¢jsonï¼Œåˆ™ç›´æ¥æ¥å—æ•°æ®å¹¶è¿”å›
	    return result

	print(get("http://xhslink.com/f0aZc"))
	#print(post("http://xhslink.com/f0aZc"))

### äºŒ. è·å–ä½œè€…ä¿¡æ¯æ¥å£ï¼šæ ¹æ®ä½œè€…åˆ†äº«é¡µurl(ç›®å‰æ”¯æŒæŠ–éŸ³ã€å¿«æ‰‹ã€è¥¿ç“œè§†é¢‘ã€å¾®è§†ã€æŠ–éŸ³ç«å±±ç‰ˆã€ç¾æ‹ã€ç«é”…è§†é¢‘ã€å¥½çœ‹è§†é¢‘ã€UCæµè§ˆå™¨)
**è¯·æ±‚åœ°å€ï¼šhttps://api.vnil.cn/api/batch/getAuthorInfo**  
**è¯·æ±‚æ–¹å¼ï¼šGET/POST**  
**è¯·æ±‚å‚æ•°ï¼š**  

|å­—æ®µ|ç±»å‹|å¿…å¡«|å¤‡æ³¨|èµ‹å€¼|
|---|---|---|---|---|  
| appkey | string | Y | appid |å¼€å‘è€…åå°ç”Ÿæˆçš„appkey |
| url | string | Y | ä½œè€…åˆ†äº«é¡µurl|

**è¿”å›ç»“æœï¼š**  

**æˆåŠŸï¼š**  

	{"code":0,"msg":"success","body":{"number":"kanzhengzhou","platform":"douyin","author":{"uid":"56009474501","name":"çœ‹éƒ‘å·","number":"kanzhengzhou","avatar":"https://p6-dy-ipv6.byteimg.com/aweme/1080x1080/2f96500065722b0ab49e2.jpeg?from=4010531038","desc":"çœ‹éƒ‘å·ï¼Œè§‚å¤©ä¸‹ï¼","follower":360000,"focus":61}}}
	
  
**å¤±è´¥ï¼š**	

	{"code":10001,"msg":"parameter lost","body":[]}

**è¿”å›å­—æ®µæ³¨é‡Š** 

|å­—æ®µå|æ³¨é‡Š|å¤‡æ³¨|
|---|---|---|
|code|é”™è¯¯ç |é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|msg|é”™è¯¯ä¿¡æ¯|é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|body|||
|uid|ä½œè€…uid||
|name|æ˜µç§°||
|number|æŠ–éŸ³å·||
|short_id|æŠ–éŸ³å†…éƒ¨çŸ­ID||
|avatar|å¤´åƒ|
|desc|ç®€ä»‹||
|follower|ç²‰ä¸æ•°||
|focus|å…³æ³¨æ•°||

PHP EXAMPLEï¼š

PHP file\_get\_contents:
	
	//å¼€å‘è€…åå°ç”Ÿæˆçš„appkey
	$appkey = '';

	//éœ€è¦è§£æçš„çŸ­è§†é¢‘å¹³å°ä½œè€…åˆ†äº«é¡µurl
	$url= '';
	
	$param = [
		'appkey'		=> $appkey,
		'url'		=> $url,
	];
	
	//å¾—åˆ°è¯·æ±‚çš„åœ°å€ï¼šhttps://api.vnil.cn/api/batch/getAuthorInfo?appid=&appsecret=&url=
	$apiUrl = 'https://api.vnil.cn/api/batch/getAuthorInfo?'.http_build_query($param);
	$videoInfo = file_get_contents($apiUrl);
	print_r($videoInfo);


PHP curlä¸ºä¾‹ï¼š
	
	//å¼€å‘è€…åå°ç”Ÿæˆçš„appkey
	$appkey = '';
	
	//éœ€è¦è§£æçš„çŸ­è§†é¢‘å¹³å°ä½œè€…åˆ†äº«é¡µurl
	$url= '';
	
	$param = [
		'appkey'	=> $appkey,
		'url'		=> $url,
	];
	
	//å¾—åˆ°è¯·æ±‚çš„åœ°å€ï¼šhttps://api.vnil.cn/api/batch/getAuthorInfo?appid=&appsecret=&url=
	$apiUrl = 'https://api.vnil.cn/api/batch/getAuthorInfo?'.http_build_query($param);
	
	$ch = curl_init();
	curl_setopt ( $ch, CURLOPT_URL, $apiUrl );
	curl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, 0 );
	curl_setopt ( $ch, CURLOPT_SSL_VERIFYHOST, 0 );
	curl_setopt ( $ch, CURLOPT_MAXREDIRS, 5 );
	curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, 1 );
	curl_setopt ( $ch, CURLOPT_FOLLOWLOCATION, 1 );
	curl_setopt ( $ch, CURLOPT_TIMEOUT, 10 );
	$content = curl_exec( $ch );
	curl_close ( $ch);
	
	print_r($content);


### ä¸‰. è·å–ä½œè€…ä½œå“åˆ—è¡¨(ç›®å‰æ”¯æŒæŠ–éŸ³ã€å¿«æ‰‹ã€è¥¿ç“œè§†é¢‘ã€å¾®è§†ã€æŠ–éŸ³ç«å±±ç‰ˆã€ç¾æ‹ã€ç«é”…è§†é¢‘ã€å¥½çœ‹è§†é¢‘ã€UCæµè§ˆå™¨)
**è¯·æ±‚åœ°å€ï¼šhttps://api.vnil.cn/api/batch/getList**  
**è¯·æ±‚æ–¹å¼ï¼šGET/POST**  
**è¯·æ±‚å‚æ•°ï¼š**  

|å­—æ®µ|ç±»å‹|å¿…å¡«|å¤‡æ³¨|èµ‹å€¼|
|---|---|---|---|---|  
| appkey | string | Y | appkey |å¼€å‘è€…åå°ç”Ÿæˆçš„appkey |
| uid | string | Y | ä½œè€…uid(ä½œè€…ä¿¡æ¯æ¥å£ä¸­è¿”å›) |
| platform | string | Y | å¹³å°ä¿¡æ¯(ä½œè€…ä¿¡æ¯æ¥å£ä¸­æœ‰è¿”å›) |
| cursor | string | N |ä¸Šä¸€æ¬¡è°ƒç”¨æ­¤æ¥å£ä¸­è¿”å›çš„"next_cursor"|

**è¿”å›ç»“æœï¼š**  

**æˆåŠŸï¼š**  

	{"code":0,"msg":"success","body":{"uid":"64269185197","platform":"douyin","page":{"current_cursor":"","next_cursor":1603971000000,"has_more":true},"list":[{"video_info":{"desc":"å½“å¿—æ„¿å†›è€æˆ˜å£«å°åˆ°ç°åœ¨çš„å†›ç²®â€¦â€¦","url":"https://www.iesdouyin.com/share/video/6889282853125819656/","cover":"https://p9-dy.byteimg.com/img/tos-cn-p-0015/adfe2a8ade724922b8cbc1ff05552e68~c5_300x400.jpeg?from=2563711402_large"},"like_count":2167,"comment_count":26,"create_time":1604043633},{"video_info":{"desc":"é‡éš¾å°å†›é£è¡Œå‘˜æ¯äº²æ§è¯‰æˆ˜æœºæ—©æœ‰é—®é¢˜#å°æ¹¾","url":"https://www.iesdouyin.com/share/video/6889289224672021767/","cover":"https://p6-dy-ipv6.byteimg.com/img/tos-cn-i-0813/188bbdf2fae44dc39a0dc57f0ce72ca3~tplv-dmt-logomcc:tos-cn-i-0813/4eec77d47e554bb0b2b6be3bcd5ce8b1:300:400.jpeg?from=2563711402_large"},"like_count":6593,"comment_count":46,"create_time":1604037677}]}}
	
  
**å¤±è´¥ï¼š**	

	{"code":10001,"msg":"parameter lost","body":[]}

**è¿”å›å­—æ®µæ³¨é‡Š** 

|å­—æ®µå|æ³¨é‡Š|å¤‡æ³¨|
|---|---|---|
|code|é”™è¯¯ç |é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|msg|é”™è¯¯ä¿¡æ¯|é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|body|||
|desc|ä½œå“è§†é¢‘ç®€ä»‹||
|url|è§†é¢‘ç½‘é¡µåœ°å€||
| cover |ä½œå“è§†é¢‘å°é¢||
| like_count |ç‚¹èµæ•°||
| comment_count |è¯„è®ºæ•°||
| create_time |å‘å¸ƒæ—¶é—´||
| next_cursor |ç¿»é¡µè¯·æ±‚æ¸¸æ ‡||
| has_more |æ˜¯å¦æœ‰æ›´å¤š|trueæ ‡è¯†æœ‰æ›´å¤šï¼Œéœ€è¦ç¿»é¡µè¯·æ±‚ï¼Œfalseæ ‡è¯†æ— |

**æ¥å…¥æ³¨æ„ç‚¹** 

	è¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼š
	1ã€è¿”å›çš„ä½œå“åˆ—è¡¨ä¸­è§†é¢‘urlä¸ºæœ‰æ°´å°çš„è§†é¢‘ç½‘é¡µè®¿é—®åœ°å€ï¼Œå¦‚éœ€è·å–æ— æ°´å°çš„è§†é¢‘åŸå§‹ä¿¡æ¯ï¼Œè¯·å°†å½“å‰è·å–çš„è§†é¢‘åœ°å€ä½œä¸ºå‚æ•°è°ƒç”¨å»æ°´å°è§£ææ¥å£
	2ã€å½“"page"ä¸‹çš„"has_more"ä¸º"true"æ—¶ï¼Œåˆ™è¡¨ç¤ºä¸‹é¢è¿˜æœ‰å†…å®¹ï¼Œæ‰€éœ€ç¿»é¡µè·å–ï¼Œè¯·å°†"next_cursor"ä½œä¸ºå‚æ•°"cursor",å†æ¬¡è°ƒç”¨å½“å‰æ¥å£(è·å–ä½œè€…ä½œå“åˆ—è¡¨)




### å››ã€è·å–å¼€å‘è€…ä¿¡æ¯æ¥å£
**URLï¼šhttps://api.vnil.cn/api/user/info**  
**è¯·æ±‚æ–¹å¼ï¼šGET/POST**  
**è¯·æ±‚å‚æ•°ï¼š**  

|å­—æ®µ|ç±»å‹|å¿…å¡«|å¤‡æ³¨|èµ‹å€¼|
|---|---|---|---|---| 
| appkey | string | Y | appkey |www.vnil.cnå¼€å‘è€…åå°è·å–|

**è¿”å›ç»“æœï¼š**  

**æˆåŠŸï¼š**  

	{"code":0,"msg":"success","body":{"times":995,"end_time":1597996121}}
	
**å¤±è´¥ï¼š**

{"code":10001,"msg":"parameter lost","body":[]}

è¿”å›å­—æ®µæ³¨é‡Š

|å­—æ®µå|æ³¨é‡Š|å¤‡æ³¨|
|---|---|---|
|code|é”™è¯¯ç |é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|msg|é”™è¯¯ä¿¡æ¯|é”™è¯¯ç :è¯·å‚è€ƒé”™è¯¯ç è¯´æ˜|
|body|||
|end_time|vipåˆ°æœŸæ—¶é—´|æ‰€å±body|
|times|å‰©ä½™è§£ææ¬¡æ•°|æ‰€å±body|

## é™„å½•
### 1ã€é”™è¯¯ç è¯´æ˜
|é”™è¯¯ç |æ³¨é‡Š|
|---|---|
|code|é”™è¯¯ç |
|0|è§£ææˆåŠŸ|
|10001|è¯·æ±‚å‚æ•°ç¼ºå¤±|
|10002|è¯·æ±‚å‚æ•°ä¸åˆæ³•|
|10003|å¼€å‘è€…æƒé™é”™è¯¯æˆ–å¼€å‘è€…ä¸å­˜åœ¨|
|10004|ç­¾åæ ¡éªŒå¤±è´¥|
|10005|è¯·æ±‚æ¥å£çš„ipåœ°å€ä¸åœ¨ç™½åå•æˆ–å¼€å‘è€…æ²¡æœ‰è®¾ç½®ipç™½åå•|
|10006|å½“å‰å¼€å‘è€…ä¸æ˜¯vipæˆ–æ²¡æœ‰è§£ææ¬¡æ•°|
|10007|è§£æå¤±è´¥|
|10008|è¯·æ±‚å‚æ•°urlåœ°å€ä¸åˆæ³•|
|10009|è¯·æ±‚å—é™|
